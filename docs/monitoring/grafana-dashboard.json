{"annotations":{"list":[]},"editable":true,"graphTooltip":1,"panels":[{"id":100,"title":"Overview","type":"row","gridPos":{"h":1,"w":24,"x":0,"y":0}},{"id":1,"title":"Managed Instances","type":"stat","gridPos":{"h":4,"w":6,"x":0,"y":1},"targets":[{"expr":"openclaw_managed_instances","legendFormat":"","refId":"A","instant":true}],"fieldConfig":{"defaults":{}},"datasource":{"type":"prometheus","uid":"${datasource}"}},{"id":2,"title":"Instances Ready","type":"stat","gridPos":{"h":4,"w":6,"x":6,"y":1},"targets":[{"expr":"count(openclaw_instance_ready{namespace=~\"$namespace\"} == 1)","legendFormat":"","refId":"A","instant":true}],"fieldConfig":{"defaults":{}},"datasource":{"type":"prometheus","uid":"${datasource}"}},{"id":3,"title":"Reconcile Error Rate","type":"stat","gridPos":{"h":4,"w":6,"x":12,"y":1},"targets":[{"expr":"sum(rate(openclaw_reconcile_total{result=\"error\",namespace=~\"$namespace\"}[5m])) / clamp_min(sum(rate(openclaw_reconcile_total{namespace=~\"$namespace\"}[5m])), 1)","legendFormat":"","refId":"A","instant":true}],"fieldConfig":{"defaults":{}},"datasource":{"type":"prometheus","uid":"${datasource}"}},{"id":4,"title":"Resource Creation Failures","type":"stat","gridPos":{"h":4,"w":6,"x":18,"y":1},"targets":[{"expr":"sum(increase(openclaw_resource_creation_failures_total{namespace=~\"$namespace\"}[5m]))","legendFormat":"","refId":"A","instant":true}],"fieldConfig":{"defaults":{}},"datasource":{"type":"prometheus","uid":"${datasource}"}},{"id":101,"title":"Reconciliation","type":"row","gridPos":{"h":1,"w":24,"x":0,"y":5}},{"id":5,"title":"Reconciliation Rate","type":"timeseries","gridPos":{"h":8,"w":12,"x":0,"y":6},"targets":[{"expr":"sum(rate(openclaw_reconcile_total{result=\"success\",namespace=~\"$namespace\",instance=~\"$instance\"}[5m])) by (instance)","legendFormat":"{{ instance }} - success","refId":"A"},{"expr":"sum(rate(openclaw_reconcile_total{result=\"error\",namespace=~\"$namespace\",instance=~\"$instance\"}[5m])) by (instance)","legendFormat":"{{ instance }} - error","refId":"B"}],"fieldConfig":{"defaults":{"custom":{"fillOpacity":10,"lineWidth":1,"pointSize":5,"showPoints":"auto"}}},"datasource":{"type":"prometheus","uid":"${datasource}"}},{"id":6,"title":"Reconciliation Duration","type":"timeseries","gridPos":{"h":8,"w":12,"x":12,"y":6},"targets":[{"expr":"histogram_quantile(0.50, sum(rate(openclaw_reconcile_duration_seconds_bucket{namespace=~\"$namespace\",instance=~\"$instance\"}[5m])) by (le))","legendFormat":"p50","refId":"A"},{"expr":"histogram_quantile(0.95, sum(rate(openclaw_reconcile_duration_seconds_bucket{namespace=~\"$namespace\",instance=~\"$instance\"}[5m])) by (le))","legendFormat":"p95","refId":"B"},{"expr":"histogram_quantile(0.99, sum(rate(openclaw_reconcile_duration_seconds_bucket{namespace=~\"$namespace\",instance=~\"$instance\"}[5m])) by (le))","legendFormat":"p99","refId":"C"}],"fieldConfig":{"defaults":{"custom":{"fillOpacity":10,"lineWidth":1,"pointSize":5,"showPoints":"auto"}}},"datasource":{"type":"prometheus","uid":"${datasource}"}},{"id":102,"title":"Instance Fleet","type":"row","gridPos":{"h":1,"w":24,"x":0,"y":14}},{"id":7,"title":"Instance Table","type":"table","gridPos":{"h":8,"w":24,"x":0,"y":15},"targets":[{"expr":"openclaw_instance_info{namespace=~\"$namespace\",instance=~\"$instance\"}","legendFormat":"","refId":"A","instant":true,"format":"table"},{"expr":"openclaw_instance_phase{namespace=~\"$namespace\",instance=~\"$instance\"} == 1","legendFormat":"","refId":"B","instant":true,"format":"table"},{"expr":"openclaw_instance_ready{namespace=~\"$namespace\",instance=~\"$instance\"}","legendFormat":"","refId":"C","instant":true,"format":"table"}],"options":{"showHeader":true,"sortBy":[{"desc":false,"displayName":"instance"}]},"fieldConfig":{"defaults":{}},"datasource":{"type":"prometheus","uid":"${datasource}"}},{"id":103,"title":"Workqueue","type":"row","gridPos":{"h":1,"w":24,"x":0,"y":23},"panels":[{"id":8,"title":"Queue Depth","type":"timeseries","gridPos":{"h":8,"w":12,"x":0,"y":24},"targets":[{"expr":"workqueue_depth{name=\"openclawinstance\"}","legendFormat":"depth","refId":"A"}],"fieldConfig":{"defaults":{"custom":{"fillOpacity":10,"lineWidth":1,"pointSize":5,"showPoints":"auto"}}},"datasource":{"type":"prometheus","uid":"${datasource}"}},{"id":9,"title":"Queue Wait Duration p99","type":"timeseries","gridPos":{"h":8,"w":12,"x":12,"y":24},"targets":[{"expr":"histogram_quantile(0.99, sum(rate(workqueue_queue_duration_seconds_bucket{name=\"openclawinstance\"}[5m])) by (le))","legendFormat":"p99","refId":"A"}],"fieldConfig":{"defaults":{"custom":{"fillOpacity":10,"lineWidth":1,"pointSize":5,"showPoints":"auto"}}},"datasource":{"type":"prometheus","uid":"${datasource}"}}],"collapsed":true},{"id":104,"title":"Kubernetes API","type":"row","gridPos":{"h":1,"w":24,"x":0,"y":32},"panels":[{"id":10,"title":"API Requests","type":"timeseries","gridPos":{"h":8,"w":24,"x":0,"y":33},"targets":[{"expr":"sum(rate(rest_client_requests_total[5m])) by (code)","legendFormat":"{{ code }}","refId":"A"}],"fieldConfig":{"defaults":{"custom":{"fillOpacity":10,"lineWidth":1,"pointSize":5,"showPoints":"auto"}}},"datasource":{"type":"prometheus","uid":"${datasource}"}}],"collapsed":true},{"id":105,"title":"Auto-Updates","type":"row","gridPos":{"h":1,"w":24,"x":0,"y":41},"panels":[{"id":11,"title":"Update Checks","type":"timeseries","gridPos":{"h":8,"w":8,"x":0,"y":42},"targets":[{"expr":"sum(rate(openclaw_autoupdate_checks_total{namespace=~\"$namespace\"}[5m])) by (result)","legendFormat":"{{ result }}","refId":"A"}],"fieldConfig":{"defaults":{"custom":{"fillOpacity":10,"lineWidth":1,"pointSize":5,"showPoints":"auto"}}},"datasource":{"type":"prometheus","uid":"${datasource}"}},{"id":12,"title":"Updates Applied","type":"timeseries","gridPos":{"h":8,"w":8,"x":8,"y":42},"targets":[{"expr":"sum(increase(openclaw_autoupdate_applied_total{namespace=~\"$namespace\"}[1h])) by (instance)","legendFormat":"{{ instance }}","refId":"A"}],"fieldConfig":{"defaults":{"custom":{"fillOpacity":10,"lineWidth":1,"pointSize":5,"showPoints":"auto"}}},"datasource":{"type":"prometheus","uid":"${datasource}"}},{"id":13,"title":"Rollbacks","type":"timeseries","gridPos":{"h":8,"w":8,"x":16,"y":42},"targets":[{"expr":"sum(increase(openclaw_autoupdate_rollbacks_total{namespace=~\"$namespace\"}[1h])) by (instance)","legendFormat":"{{ instance }}","refId":"A"}],"fieldConfig":{"defaults":{"custom":{"fillOpacity":10,"lineWidth":1,"pointSize":5,"showPoints":"auto"}}},"datasource":{"type":"prometheus","uid":"${datasource}"}}],"collapsed":true}],"schemaVersion":39,"tags":["openclaw","operator"],"templating":{"list":[{"current":{},"hide":0,"includeAll":false,"label":"Datasource","multi":false,"name":"datasource","options":[],"query":"prometheus","refresh":1,"regex":"","type":"datasource"},{"current":{},"hide":0,"includeAll":true,"label":"Namespace","multi":true,"name":"namespace","options":[],"query":"label_values(openclaw_instance_info, namespace)","refresh":2,"regex":"","type":"query","datasource":{"type":"prometheus","uid":"${datasource}"},"definition":"label_values(openclaw_instance_info, namespace)","sort":1},{"current":{},"hide":0,"includeAll":true,"label":"Instance","multi":true,"name":"instance","options":[],"query":"label_values(openclaw_instance_info{namespace=~\"$namespace\"}, instance)","refresh":2,"regex":"","type":"query","datasource":{"type":"prometheus","uid":"${datasource}"},"definition":"label_values(openclaw_instance_info{namespace=~\"$namespace\"}, instance)","sort":1,"allValue":".*"}]},"time":{"from":"now-1h","to":"now"},"refresh":"30s","title":"OpenClaw Operator","uid":"openclaw-operator-overview"}